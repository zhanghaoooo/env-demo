(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ddcee3a2"],{"2ac8":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return u}));var r=n("b775");function i(e){return Object(r["a"])({url:"/question/addcq",method:"post",data:e})}function o(){return Object(r["a"])({url:"/question/allquestion",method:"get"})}function a(){return Object(r["a"])({url:"/question/randquestion",method:"get"})}function s(e){return Object(r["a"])({url:"/question/updatecq",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/question/deletecq?id="+e,method:"get"})}},"498a":function(e,t,n){"use strict";var r=n("23e7"),i=n("58a8").trim,o=n("c8d2");r({target:"String",proto:!0,forced:o("trim")},{trim:function(){return i(this)}})},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("1d80"),i=n("577e"),o=n("5899"),a="["+o+"]",s=RegExp("^"+a+a+"*"),u=RegExp(a+a+"*$"),c=function(e){return function(t){var n=i(r(t));return 1&e&&(n=n.replace(s,"")),2&e&&(n=n.replace(u,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"6b16":function(e,t,n){},8418:function(e,t,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var a=r(t);a in e?i.f(e,a,o(0,n)):e[a]=n}},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("23cb"),o=n("a691"),a=n("50c4"),s=n("7b0b"),u=n("65f0"),c=n("8418"),l=n("1dde"),d=l("splice"),f=Math.max,p=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,r,l,d,g,v,h=s(this),q=a(h.length),x=i(e,q),w=arguments.length;if(0===w?n=r=0:1===w?(n=0,r=q-x):(n=w-2,r=p(f(o(t),0),q-x)),q+n-r>m)throw TypeError(b);for(l=u(h,r),d=0;d<r;d++)g=x+d,g in h&&c(l,d,h[g]);if(l.length=r,n<r){for(d=x;d<q-r;d++)g=d+r,v=d+n,g in h?h[v]=h[g]:delete h[v];for(d=q;d>q-r+n;d--)delete h[d-1]}else if(n>r)for(d=q-r;d>x;d--)g=d+r-1,v=d+n-1,g in h?h[v]=h[g]:delete h[v];for(d=0;d<n;d++)h[d+x]=arguments[d+2];return h.length=q-r+n,l}})},a5dd:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("el-tabs",{attrs:{type:"card"}},[n("el-tab-pane",[n("span",{attrs:{slot:"label"},slot:"label"},[n("i",{staticClass:"el-icon-edit-outline"}),e._v(" 试题编辑")]),n("div",{staticClass:"add-issue-btn"},[n("el-button",{attrs:{type:"warning"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("添加试题")])],1),n("h3",{staticClass:"color-main",staticStyle:{"text-align":"center"}},[e._v("选择题")]),e._l(e.question_choice,(function(t,r){return n("el-card",{key:t.id},[n("el-button",{staticClass:"dlt-btn",attrs:{size:"mini",type:"danger"},on:{click:function(n){return e.deleteCQ(t.id,r)}}},[e._v("删除")]),n("i",[t.isEditable?n("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(n){return e.updateCQ(t)}}},[e._v("确认")]):n("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){t.isEditable=1}}},[e._v("修改")])],1),n("strong",[e._v(e._s(r+1)+". "),t.isEditable?n("el-input",{staticStyle:{width:"80%"},model:{value:t.title,callback:function(n){e.$set(t,"title",n)},expression:"question.title"}}):n("span",[e._v(e._s(t.title))])],1),n("br"),n("el-row",e._l(t.options,(function(r,i){return n("span",{key:i},[n("el-checkbox",{attrs:{disabled:!t.isEditable},model:{value:r.value,callback:function(t){e.$set(r,"value",t)},expression:"option.value"}},[e._v(e._s(String.fromCharCode(97+i))+". "+e._s(r.dec))])],1)})),0)],1)})),n("el-dialog",{attrs:{title:"添加试题",visible:e.dialogVisible,width:"70%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-select",{staticStyle:{width:"100px",margin:"0 45% 10px"},model:{value:e.questionType,callback:function(t){e.questionType=t},expression:"questionType"}},[n("el-option",{attrs:{label:"选择题",value:"cq"}}),n("el-option",{attrs:{label:"问答题",value:"eq"}})],1),"cq"===e.questionType?n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}]},[n("el-form",{ref:"questionForm",attrs:{model:e.questionForm,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"title",label:"问题题目",rules:{required:!0,message:"题目不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"80%"},model:{value:e.questionForm.title,callback:function(t){e.$set(e.questionForm,"title",t)},expression:"questionForm.title"}})],1),e._l(e.questionForm.options,(function(t,r){return n("el-form-item",{key:r,attrs:{label:"选项 "+String.fromCharCode(97+r),prop:t.dec}},[n("div",{staticClass:"option-value-item"},[n("el-checkbox",{model:{value:t.value,callback:function(n){e.$set(t,"value",n)},expression:"option.value"}})],1),n("el-input",{staticStyle:{width:"70%"},model:{value:t.dec,callback:function(n){e.$set(t,"dec",n)},expression:"option.dec"}}),n("el-button",{attrs:{type:"danger"},on:{click:function(t){return t.preventDefault(),e.removeOption(r)}}},[e._v("删除")])],1)})),n("el-form-item",[n("el-button",{on:{click:e.resetFormCQ}},[e._v("重置")]),n("el-button",{attrs:{type:"success"},on:{click:e.addOption}},[e._v("增加选项")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("questionForm")}}},[e._v("提交")])],1)],2)],1):e._e(),"之后看需求是否添加"===e.questionType?n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:e.uploadLoading,expression:"uploadLoading"}]},[n("el-form",{ref:"questionEqForm",attrs:{model:e.questionEqForm,"label-width":"100px"}},[n("el-form-item",{attrs:{prop:"title",label:"题目",rules:{required:!0,message:"题目不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"80%"},model:{value:e.questionEqForm.title,callback:function(t){e.$set(e.questionEqForm,"title",t)},expression:"questionEqForm.title"}})],1),n("el-form-item",{attrs:{prop:"answer",label:"答案",rules:{required:!0,message:"答案不能为空",trigger:"blur"}}},[n("el-input",{staticStyle:{width:"80%"},attrs:{type:"textarea",rows:6},model:{value:e.questionEqForm.answer,callback:function(t){e.$set(e.questionEqForm,"answer",t)},expression:"questionEqForm.answer"}})],1),n("el-form-item",[n("el-button",{on:{click:function(t){return e.resetForm("questionEqForm")}}},[e._v("重置")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitFormEQ("questionEqForm")}}},[e._v("提交")])],1)],1)],1):e._e(),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],2)],1)],1)},i=[],o=n("1da1"),a=(n("498a"),n("a434"),n("d81d"),n("96cf"),n("bc3a")),s=n.n(a),u=n("2ac8"),c={data:function(){return{question_choice:[],question_essay:[],uploadLoading:!1,questionForm:{title:"",options:[{dec:"",value:!1},{dec:"",value:!1},{dec:"",value:!1},{dec:"",value:!1}],isEditable:0},questionEqForm:{title:"",answer:"",isEditable:0},dialogVisible:!1,questionType:"cq",userHabbit:!1}},methods:{getQuestions:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["d"])();case 2:n=t.sent,e.question_choice=n.question_choice,e.question_essay=n.question_essay;case 5:case"end":return t.stop()}}),t)})))()},updateCQ:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.options.some((function(e){return!0===e.value}))){n.next=7;break}return n.next=3,Object(u["c"])(e);case 3:r=n.sent,r.result.length?t.$message.error("服务器出现未知错误，请稍后再试！"):(e.isEditable=0,t.$message.success("已修改！")),n.next=8;break;case 7:t.$alert("请设置至少一个正确选项！");case 8:case"end":return n.stop()}}),n)})))()},updateEQ:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.answer.trim(),!e.title.length||!e.answer.length){n.next=9;break}return n.next=4,s.a.post("/api/question/updateeq",e);case 4:r=n.sent,i=r.data,i.result.length?t.$message.error("服务器出现未知错误，请稍后再试！"):(e.isEditable=0,t.$message.success("已修改！")),n.next=10;break;case 9:t.$alert("不能为空！");case 10:case"end":return n.stop()}}),n)})))()},deleteCQ:function(e,t){var n=this;this.$confirm("即将删除该试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(u["b"])(e);case 2:i=r.sent,i.result.length?n.$message.error("服务器出现未知错误，请稍后再试！"):(n.$message.success("已删除！"),n.question_choice.splice(t,1));case 4:case"end":return r.stop()}}),r)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},deleteEQ:function(e,t){var n=this;this.$confirm("即将删除该试题, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function r(){var i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,s.a.get("/api/question/deleteeq?id="+e);case 2:i=r.sent,o=i.data,o.result.length?n.$message.error("服务器出现未知错误，请稍后再试！"):(n.$message.success("已删除！"),n.question_essay.splice(t,1));case 5:case"end":return r.stop()}}),r)})))).catch((function(){n.$message({type:"info",message:"已取消删除"})}))},submitForm:function(e){var t=this;this.$refs[e].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=13;break}if(!t.questionForm.options.some((function(e){return!0===e.value}))){e.next=9;break}return t.uploadLoading=!0,e.next=5,Object(u["a"])(t.questionForm);case 5:r=e.sent,r.length?(t.$message.error("服务器出现不可预知的错误，若多次出现此问题，请联系管理员解决！"),t.uploadLoading=!1):(t.$message.success("提交成功！"),t.getQuestions(),t.resetFormCQ(),t.uploadLoading=!1,t.dialogVisible=!1),e.next=11;break;case 9:return t.$alert("请设置至少一个正确选项！"),e.abrupt("return",!1);case 11:e.next=15;break;case 13:return t.$alert("题目不能为空！"),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},submitFormEQ:function(e){var t=this;this.$refs[e].validate(function(){var n=Object(o["a"])(regeneratorRuntime.mark((function n(r){var i,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!r){n.next=9;break}return t.uploadLoading=!0,n.next=4,s.a.post("/api/question/addeq",t.questionEqForm);case 4:i=n.sent,o=i.data,o.length?(t.$message.error("服务器出现不可预知的错误，若多次出现此问题，请联系管理员解决！"),t.uploadLoading=!1):(t.$message.success("提交成功！"),t.getQuestions(),t.resetForm(e),t.uploadLoading=!1,t.dialogVisible=!1),n.next=11;break;case 9:return t.$alert("题目不能为空！"),n.abrupt("return",!1);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}())},resetForm:function(e){this.$refs[e].resetFields()},resetFormCQ:function(){this.questionForm.title="",this.questionForm.options.map((function(e){e.dec="",e.value=!1}))},removeOption:function(e){this.questionForm.options.splice(e,1)},addOption:function(){this.questionForm.options.push({dec:"",value:!1})},handleClose:function(e){this.$confirm("确认关闭？").then((function(){e()})).catch((function(e){return e}))}},created:function(){this.getQuestions()}},l=c,d=(n("d691"),n("2877")),f=Object(d["a"])(l,r,i,!1,null,"313cf91f",null);t["default"]=f.exports},b727:function(e,t,n){var r=n("0366"),i=n("44ad"),o=n("7b0b"),a=n("50c4"),s=n("65f0"),u=[].push,c=function(e){var t=1==e,n=2==e,c=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(m,b,g,v){for(var h,q,x=o(m),w=i(x),k=r(b,g,3),y=a(w.length),F=0,_=v||s,$=t?_(m,y):n||f?_(m,0):void 0;y>F;F++)if((p||F in w)&&(h=w[F],q=k(h,F,x),e))if(t)$[F]=q;else if(q)switch(e){case 3:return!0;case 5:return h;case 6:return F;case 2:u.call($,h)}else switch(e){case 4:return!1;case 7:u.call($,h)}return d?-1:c||l?l:$}};e.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},c8d2:function(e,t,n){var r=n("d039"),i=n("5899"),o="​᠎";e.exports=function(e){return r((function(){return!!i[e]()||o[e]()!=o||i[e].name!==e}))}},d691:function(e,t,n){"use strict";n("6b16")},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),a=o("map");r({target:"Array",proto:!0,forced:!a},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-ddcee3a2.9ef9eca5.js.map