(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-78820390"],{"1c31":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"f",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return s})),r.d(t,"d",(function(){return l}));r("99af");var n=r("b775");function o(e){return Object(n["a"])({url:"/report/uploadform",method:"post",data:e})}function a(e){return Object(n["a"])({url:"/report/uploadformandfile",method:"post",data:e})}function i(){return Object(n["a"])({url:"/report/reportlist",method:"get"})}function c(e,t){return Object(n["a"])({url:"/report/approve?id=".concat(e,"&approve=").concat(t),method:"get"})}function s(e){return Object(n["a"])({url:"/report/delete?id=".concat(e),method:"get"})}function l(e){return Object(n["a"])({url:"/report/find?keyword=".concat(e),method:"get"})}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").find,a=r("44d2"),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),n({target:"Array",proto:!0,forced:c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},8418:function(e,t,r){"use strict";var n=r("a04b"),o=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var i=n(t);i in e?o.f(e,i,a(0,r)):e[i]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),a=r("e8b5"),i=r("861d"),c=r("7b0b"),s=r("50c4"),l=r("8418"),u=r("65f0"),p=r("1dde"),d=r("b622"),f=r("2d00"),m=d("isConcatSpreadable"),b=9007199254740991,h="Maximum allowed index exceeded",v=f>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=p("concat"),w=function(e){if(!i(e))return!1;var t=e[m];return void 0!==t?!!t:a(e)},_=!v||!g;n({target:"Array",proto:!0,forced:_},{concat:function(e){var t,r,n,o,a,i=c(this),p=u(i,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?i:arguments[t],w(a)){if(o=s(a.length),d+o>b)throw TypeError(h);for(r=0;r<o;r++,d++)r in a&&l(p,d,a[r])}else{if(d>=b)throw TypeError(h);l(p,d++,a)}return p.length=d,p}})},a434:function(e,t,r){"use strict";var n=r("23e7"),o=r("23cb"),a=r("a691"),i=r("50c4"),c=r("7b0b"),s=r("65f0"),l=r("8418"),u=r("1dde"),p=u("splice"),d=Math.max,f=Math.min,m=9007199254740991,b="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!p},{splice:function(e,t){var r,n,u,p,h,v,g=c(this),w=i(g.length),_=o(e,w),y=arguments.length;if(0===y?r=n=0:1===y?(r=0,n=w-_):(r=y-2,n=f(d(a(t),0),w-_)),w+r-n>m)throw TypeError(b);for(u=s(g,n),p=0;p<n;p++)h=_+p,h in g&&l(u,p,g[h]);if(u.length=n,r<n){for(p=_;p<w-n;p++)h=p+n,v=p+r,h in g?g[v]=g[h]:delete g[v];for(p=w;p>w-n+r;p--)delete g[p-1]}else if(r>n)for(p=w-n;p>_;p--)h=p+n-1,v=p+r-1,h in g?g[v]=g[h]:delete g[v];for(p=0;p<r;p++)g[p+_]=arguments[p+2];return g.length=w-n+r,u}})},b727:function(e,t,r){var n=r("0366"),o=r("44ad"),a=r("7b0b"),i=r("50c4"),c=r("65f0"),s=[].push,l=function(e){var t=1==e,r=2==e,l=3==e,u=4==e,p=6==e,d=7==e,f=5==e||p;return function(m,b,h,v){for(var g,w,_=a(m),y=o(_),R=n(b,h,3),x=i(y.length),I=0,j=v||c,k=t?j(m,x):r||d?j(m,0):void 0;x>I;I++)if((f||I in y)&&(g=y[I],w=R(g,I,_),e))if(t)k[I]=w;else if(w)switch(e){case 3:return!0;case 5:return g;case 6:return I;case 2:s.call(k,g)}else switch(e){case 4:return!1;case 7:s.call(k,g)}return p?-1:l||u?u:k}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},ecb1:function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticStyle:{padding:"20px"}},[r("el-row",[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content bg-purple"},[r("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入内容"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1),r("el-button",{staticClass:"ml-10",attrs:{type:"primary"},on:{click:e.handleReset}},[e._v("重置")])],1)])],1),r("hr"),r("div",{staticClass:"table-container"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{"default-sort":{prop:"approve",order:"descending"},"highlight-current-row":"",data:e.currentTableData,"tooltip-effect":"dark",border:""}},[r("el-table-column",{attrs:{type:"index",width:"50",align:"center",label:"序号"}}),r("el-table-column",{attrs:{prop:"report.companyBasicInfo.companyName",label:"机构名称","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"report.reportInfo.projectName",label:"任务名称","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"report.samplingInfo.monitorProject",label:"监测项目","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"uploader",label:"提交人","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{prop:"uptime",label:"提交时间","show-overflow-tooltip":""}}),r("el-table-column",{attrs:{label:"内容",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.showDetail(t.row.id)}}},[e._v("详情")])]}}])}),r("el-table-column",{attrs:{label:"审核情况",prop:"approve",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.approve?r("el-tag",{attrs:{type:"warning"}},[e._v("待审核")]):1===t.row.approve?r("el-tag",{attrs:{type:"success"}},[e._v("已通过")]):r("el-tag",{attrs:{type:"info"}},[e._v("未通过")])]}}])}),r("el-table-column",{attrs:{label:"操作",align:"center",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.approve?e._e():r("el-dropdown",{on:{command:function(r){return e.approve(r,t.row.id)}}},[r("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("审核")]),r("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[r("el-dropdown-item",{attrs:{command:"1"}},[e._v("通过")]),r("el-dropdown-item",{attrs:{command:"2"}},[e._v("不通过")])],1)],1),r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.deleteReport(t.row.id,t.$index)}}},[e._v("删除")])]}}])})],1),r("el-pagination",{staticStyle:{float:"right","margin-top":"30px"},attrs:{background:"","page-size":10,"current-page":e.currentPage,layout:"total, prev, pager, next, jumper",total:e.tableData.length},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.handleCurrentChange}}),e.currentReport.id?r("el-dialog",{attrs:{visible:e.showReportDetail},on:{"update:visible":function(t){e.showReportDetail=t}}},[r("el-descriptions",{attrs:{title:"机构基本信息",direction:"vertical",column:2,border:""}},[r("el-descriptions-item",{attrs:{label:"机构名称"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.companyName))]),r("el-descriptions-item",{attrs:{label:"机构代码"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.companyCode))]),r("el-descriptions-item",{attrs:{label:"法人"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.legalPersonName))]),r("el-descriptions-item",{attrs:{label:"联系人"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.contactPerson))]),r("el-descriptions-item",{attrs:{label:"联系方式"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.phone))]),r("el-descriptions-item",{attrs:{label:"地址"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.adress))]),r("el-descriptions-item",{attrs:{label:"邮政编码"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.postcode))]),r("el-descriptions-item",{attrs:{label:"机构类别"}},[e._v(e._s(e.currentReport.report.companyBasicInfo.companyType))])],1),r("br"),r("el-descriptions",{attrs:{title:"报备信息",direction:"vertical",column:2,border:""}},[r("el-descriptions-item",{attrs:{label:"业务统一代码"}},[e._v(e._s(e.currentReport.report.reportInfo.businessCode))]),r("el-descriptions-item",{attrs:{label:"任务名称"}},[e._v(e._s(e.currentReport.report.reportInfo.projectName))]),r("el-descriptions-item",{attrs:{label:"业务编号"}},[e._v(e._s(e.currentReport.report.reportInfo.businessNumber))]),r("el-descriptions-item",{attrs:{label:"业务类型"}},[e._v(e._s(e.currentReport.report.reportInfo.businessType))]),r("el-descriptions-item",{attrs:{label:"受测单位"}},[e._v(e._s(e.currentReport.report.reportInfo.particiCompany))]),r("el-descriptions-item",{attrs:{label:"委托单位"}},[e._v(e._s(e.currentReport.report.reportInfo.entrastCompany))]),r("el-descriptions-item",{attrs:{label:"联系人"}},[e._v(e._s(e.currentReport.report.reportInfo.contactPerson))]),r("el-descriptions-item",{attrs:{label:"联系方式"}},[e._v(e._s(e.currentReport.report.reportInfo.phone))])],1),r("br"),r("el-descriptions",{attrs:{title:"采样信息",direction:"vertical",column:1,border:""}},[r("el-descriptions-item",[e.url?r("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:e.url}}):r("span",[e._v("暂无照片")])]),r("el-descriptions-item",{attrs:{label:"监测项目"}},[e._v(e._s(e.currentReport.report.samplingInfo.monitorProject))]),r("el-descriptions-item",{attrs:{label:"时间"}},[e._v(e._s(e.currentReport.report.samplingInfo.duration))]),r("el-descriptions-item",{attrs:{label:"采样人员"}},[e._v(e._s(e.currentReport.report.samplingInfo.samplingPerson))]),r("el-descriptions-item",{attrs:{label:"备注"}},[e._v(e._s(e.currentReport.report.samplingInfo.remake))])],1)],1):e._e()],1)],1)},o=[],a=r("1da1"),i=(r("96cf"),r("fb6a"),r("7db0"),r("a434"),r("1c31")),c={name:"ReportManage",data:function(){return{searchValue:"",loading:!1,tableData:[],currentTableData:[],currentPage:1,showReportDetail:!1,currentReport:{},url:""}},created:function(){this.getReportList()},methods:{getReportList:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,Object(i["c"])();case 3:r=t.sent,e.loading=!1,e.tableData=r.result,e.currentTableData=r.result.slice(0,10);case 7:case"end":return t.stop()}}),t)})))()},approve:function(e,t){var r=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["a"])(t,e);case 2:o=n.sent,o.result.length?r.currentTableData.find((function(e){return e.id===t})).approve=+e:r.$message.error("服务器出现未知错误！");case 4:case"end":return n.stop()}}),n)})))()},search:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(i["d"])(e.searchValue);case 2:r=t.sent,e.tableData=r.result,e.currentTableData=r.result.slice(0,10),e.currentPage=1;case 6:case"end":return t.stop()}}),t)})))()},handleReset:function(){this.searchValue="",this.getReportList(),this.currentPage=1},showDetail:function(e){this.currentReport=this.currentTableData.find((function(t){return t.id===e})),this.currentReport.url&&(this.url=this.$url+this.currentReport.url),this.showReportDetail=!0},deleteReport:function(e,t){var r=this;this.$confirm("确认是否删除？","警告！").then(Object(a["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["b"])(e);case 2:o=n.sent,o.result.length?(r.$message.success("已删除"),r.currentTableData.splice(t,1)):r.$message.error("服务器出现未知错误,请稍后再试！");case 4:case"end":return n.stop()}}),n)})))).catch((function(){r.$message.info("已取消")}))},handleCurrentChange:function(){this.currentTableData=this.tableData.slice(10*(this.currentPage-1),10*this.currentPage)}}},s=c,l=r("2877"),u=Object(l["a"])(s,n,o,!1,null,"41e2aa77",null);t["default"]=u.exports},fb6a:function(e,t,r){"use strict";var n=r("23e7"),o=r("861d"),a=r("e8b5"),i=r("23cb"),c=r("50c4"),s=r("fc6a"),l=r("8418"),u=r("b622"),p=r("1dde"),d=p("slice"),f=u("species"),m=[].slice,b=Math.max;n({target:"Array",proto:!0,forced:!d},{slice:function(e,t){var r,n,u,p=s(this),d=c(p.length),h=i(e,d),v=i(void 0===t?d:t,d);if(a(p)&&(r=p.constructor,"function"!=typeof r||r!==Array&&!a(r.prototype)?o(r)&&(r=r[f],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return m.call(p,h,v);for(n=new(void 0===r?Array:r)(b(v-h,0)),u=0;h<v;h++,u++)h in p&&l(n,u,p[h]);return n.length=u,n}})}}]);
//# sourceMappingURL=chunk-78820390.1146d051.js.map