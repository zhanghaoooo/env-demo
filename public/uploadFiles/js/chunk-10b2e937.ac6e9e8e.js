(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b2e937"],{"1ef8":function(e,t,r){},"52d9":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"login-bg"},[r("span",{staticClass:"back",on:{click:e.handleBackSite}},[r("svg-icon",{staticClass:"fh",attrs:{"icon-class":"fanhui1"}}),r("span",[e._v("返回登录")])],1),r("el-card",{staticClass:"login-form-layout"},[r("el-form",{ref:"loginForm",attrs:{model:e.loginForm,rules:e.loginRules,"label-position":"right","hide-required-asterisk":"","label-width":"60px"}},[r("h2",{staticClass:"login-title color-main"},[e._v("用户注册")]),r("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[r("el-input",{attrs:{name:"email",placeholder:"请输入邮箱",type:"email"},model:{value:e.loginForm.email,callback:function(t){e.$set(e.loginForm,"email",t)},expression:"loginForm.email"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"},[r("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"youxiang"}})],1)])],1),r("el-form-item",{attrs:{prop:"password",label:"密码"}},[r("el-input",{attrs:{name:"password",type:e.pwdType,placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister.apply(null,arguments)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"},[r("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"mima"}})],1),e.pwdType?r("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[r("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"mimabiyan"}})],1):r("span",{attrs:{slot:"suffix"},on:{click:e.showPwd},slot:"suffix"},[r("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"yanjing-"}})],1)])],1),r("el-form-item",{attrs:{prop:"user_name",label:"昵称"}},[r("el-input",{attrs:{name:"user_name",type:"text",placeholder:"请输入昵称"},model:{value:e.loginForm.user_name,callback:function(t){e.$set(e.loginForm,"user_name",t)},expression:"loginForm.user_name"}},[r("span",{attrs:{slot:"prefix"},slot:"prefix"},[r("svg-icon",{staticClass:"color-main",attrs:{"icon-class":"user"}})],1)])],1),r("el-form-item",{attrs:{label:"验证"}},[e.dragVerifShow?r("DragVerify",{ref:"drags",attrs:{width:348}}):e._e()],1),r("el-form-item",{staticStyle:{"text-align":"center"},attrs:{"label-width":"0px"}},[r("el-button",{staticStyle:{width:"45%"},attrs:{type:"primary",loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister.apply(null,arguments)}}},[e._v("注册")])],1),r("div",{staticStyle:{"text-align":"center",color:"#409eff","font-size":"14px"}},[e._v(" 为了良好的用户体验，请使用谷歌浏览器 ")])],1)],1)],1)},n=[],s=r("1da1"),i=(r("96cf"),r("ac1f"),r("5319"),r("e979")),o=r("61f7"),l=r("c24f"),c={name:"Register",components:{DragVerify:i["a"]},data:function(){var e=function(e,t,r){Object(o["a"])(t)&&t?r():r(new Error("输入数字,字母或下划线,长度大于3位"))},t=function(e,t,r){t.length<4?r(new Error("密码不能小于4位")):r()},r=function(e,t,r){var a=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;a.test(t)?r():r(new Error("请输入正确格式的邮箱地址"))};return{dragVerifShow:1,loginForm:{user_name:"",password:"",email:""},loginRules:{user_name:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:t}],email:[{required:!0,trigger:"blur",validator:r}]},loading:!1,pwdType:"password"}},created:function(){console.log(Object({NODE_ENV:"production",VUE_APP_BASEURL:"http://192.168.110.84:8766",BASE_URL:"/"}))},methods:{handleBackSite:function(){this.$router.push({path:"/login"})},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleRegister:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.loginForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(r){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!r){t.next=20;break}return e.loading=!0,t.prev=2,t.next=5,l["a"].register(e.loginForm);case 5:if(a=t.sent,1075!==a.errorCode){t.next=11;break}return e.$message.error(a.reason),e.dragVerifShow=0,setTimeout((function(){e.dragVerifShow=1})),t.abrupt("return",!1);case 11:return e.$message.success("注册成功,即将跳转到登录页"),setTimeout((function(){e.$router.replace({path:"/login"})}),1e3),t.abrupt("return",!1);case 16:t.prev=16,t.t0=t["catch"](2),console.log("err");case 19:e.loading=!1;case 20:case"end":return t.stop()}}),t,null,[[2,16]])})));return function(e){return t.apply(this,arguments)}}());case 1:case"end":return t.stop()}}),t)})))()}}},u=c,p=(r("73af"),r("2877")),f=Object(p["a"])(u,a,n,!1,null,"52ca4ec8",null);t["default"]=f.exports},"61f7":function(e,t,r){"use strict";function a(e){var t=/\w{3,9}/;return t.test(e)}r.d(t,"a",(function(){return a}))},"73af":function(e,t,r){"use strict";r("1ef8")}}]);
//# sourceMappingURL=chunk-10b2e937.ac6e9e8e.js.map